<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>codegangsta.io</title>
    <link>http://localhost:1313/</link>
    <description>Recent content on codegangsta.io</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 31 Jan 2015 11:25:15 -0800</lastBuildDate>
    <atom:link href="http://localhost:1313/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>about</title>
      <link>http://localhost:1313/about/</link>
      <pubDate>Sat, 31 Jan 2015 11:25:15 -0800</pubDate>
      
      <guid>http://localhost:1313/about/</guid>
      <description>&lt;p&gt;Hello world! This is my first hugo page&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>My Thoughts on Martini</title>
      <link>http://localhost:1313/blog/2014/05/19/my-thoughts-on-martini/</link>
      <pubDate>Mon, 19 May 2014 10:51:49 -0800</pubDate>
      
      <guid>http://localhost:1313/blog/2014/05/19/my-thoughts-on-martini/</guid>
      <description>

&lt;p&gt;It&amp;rsquo;s never easy to take honest criticism, especially when the target of the criticism is considered your &amp;lsquo;baby&amp;rsquo;. Earlier this week, &lt;a href=&#34;http://stephensearles.com/?p=254&#34;&gt;Stephen Searles posted an entirely honest review&lt;/a&gt; of Martini and how, despite the popularity and hype, there are numerous reasons why Martini should not be used.&lt;/p&gt;

&lt;p&gt;I have been asked by many people what my thoughts are regarding the reasons not to use Martini. I figure that it would be best to compile these thoughts into a blog post so I can shed some light on my opinions and how they may have changed over time. So here we go, my reflections on Martini&amp;hellip;&lt;/p&gt;

&lt;h2 id=&#34;martini-s-popularity-was-a-huge-surprise:be092bb3a2ecafb4d15d135163b61d62&#34;&gt;Martini&amp;rsquo;s Popularity was a HUGE surprise&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;Arguably, many people at the time were young Go developers.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This may be an obvious one. I was not expecting the positive attention that Martini received when I made the initial announcement. I was extremely surprised to see my little experiment of doing dependency injection in Go become popular so quickly. It was so well received that my inbox was flooded with emails for weeks, Martini blog posts were all over the internet, and hundreds of contributions were added to both the Martini and martini-contrib GitHub repos.&lt;/p&gt;

&lt;p&gt;Not only was this unexpected, I was still very young as a Go developer. Arguably, many people at the time were young Go developers. I doubted some of the decisions I made with Martini, but soon those doubts were drowned out by the positive reenforcement relayed by the Go community. In my mind Martini was a great fit for the Go community because people liked it! It&amp;rsquo;s popular, so it must be the best choice right? It&amp;rsquo;s completely idiomatic right? Right?!&lt;/p&gt;

&lt;h2 id=&#34;martini-is-not-idiomatic:be092bb3a2ecafb4d15d135163b61d62&#34;&gt;Martini is not Idiomatic&lt;/h2&gt;

&lt;p&gt;As I grew from a baby gopher to a well respected Go developer in the community, this was the toughest pill for me to swallow. &lt;em&gt;Martini, and it&amp;rsquo;s design, is simply not idiomatic Go.&lt;/em&gt; This is not to say that Martini is not well designed, I feel like it is one of my better demonstrations of API design that I&amp;rsquo;ve had in my career. There have been many excellent patterns for web development that have been executed in the Martini codebase and many very high quality web packages found in martini-contrib. The contributions can be attributed to the great community surrounding Martini and the design of the framework itself.&lt;/p&gt;

&lt;p&gt;Despite all of these facts, Martini is still not idiomatic Go. The mantras surrounding to Go community are simplicity, familiarity with the stdlib, and explicit interactions with the type system. Martini does not line up with the way the stdlib was designed, and it therefore can never be considered idiomatic. This doesn&amp;rsquo;t make Martini wrong, it is just not going in the direction that the Go community as a whole is going.&lt;/p&gt;

&lt;h2 id=&#34;martini-reflection-is-flawed:be092bb3a2ecafb4d15d135163b61d62&#34;&gt;Martini reflection is flawed&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;The real tradeoff with reflection is one of complexity.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;One of the crowning features of Martini is it&amp;rsquo;s reflective dependency injection. From a modularity perspective it sounds awesome! Martini handlers only get the dependencies they need, services can be injected, mocked, swapped out, and fulfilled by this method of dependency provisioning. The problem is that the reflection comes at a cost, both in performance and complexity.&lt;/p&gt;

&lt;p&gt;In most situations, the performance overhead is negligible compared to the other components required in building a web application/api. The real tradeoff with reflection is one of complexity. Rather than have a strict interface for implementing and extending a web application, Martini allows you to &lt;em&gt;inject all the things&lt;/em&gt; and that leads to a level of indirection that, while modular, requires a certain amount of cognitive overhead to fully understand what is actually going on.&lt;/p&gt;

&lt;h2 id=&#34;so-now-what:be092bb3a2ecafb4d15d135163b61d62&#34;&gt;So&amp;hellip; Now What?&lt;/h2&gt;

&lt;p&gt;
&lt;figure &gt;
    
        &lt;img src=&#34;http://makeameme.org/media/created/who-am-i-bmup6m.png&#34; /&gt;
    
    
&lt;/figure&gt;
&lt;/p&gt;

&lt;p&gt;If you are using Martini, please continue using it. If you are interested in using Martini, it is still a fantastic framework and arguably the most productive set of tools for building web applications in Go. It is well designed and has a great community around it. Martini is not going away, and I&amp;rsquo;m not going to stop supporting Martini.&lt;/p&gt;

&lt;p&gt;All that said, I still want to accomplish the goal I was originally set out to accomplish when I first created Martini; promote the creation of awesome reusable web components for Go. I recently have been thinking about how I could take the good parts of Martini and combine them into a package that is simple, beautiful, non-intrusive, and most of all &lt;em&gt;idiomatic&lt;/em&gt; Go.&lt;/p&gt;

&lt;h2 id=&#34;introducing-negroni:be092bb3a2ecafb4d15d135163b61d62&#34;&gt;Introducing Negroni&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://negroni.codegangsta.io&#34;&gt;Negroni&lt;/a&gt; is a idiomatic approach to middleware in &lt;code&gt;net/http&lt;/code&gt;. I wrote it as an alternative to Martini and it attempts to accomplish similar goals:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Non-intrusive design&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Compatibility with net/http&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Super easy to use&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Promote good practices&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;http://negroni.codegangsta.io&#34;&gt;Negroni&lt;/a&gt; does one thing well, net/http middleware. It comes with the same default middleware that Martini comes with; Logging, Panic Recovery, and Static file serving. The API is simple and intuitive. Most of all, this middleware stack does not use reflection or dependency injection, and building middleware for Negroni requires no dependencies outside of net/http. Here is a quick example of how to use Negroni to compose a feature full middleware stack:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import (
  &amp;quot;github.com/codegangsta/negroni&amp;quot;
  &amp;quot;net/http&amp;quot;
  &amp;quot;fmt&amp;quot;
)

func main() {
  mux := http.NewServeMux()
  mux.HandleFunc(&amp;quot;/&amp;quot;, func(w http.ResponseWriter, req *http.Request) {
    fmt.Fprintf(w, &amp;quot;Welcome to the home page!&amp;quot;)
  })

  // Use the default middleware.
  n := negroni.Classic()
  // ... Add any other middlware here
  
  // add the router as the last handler in the stack
  n.UseHandler(mux)
  n.Run(&amp;quot;:3000&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;a href=&#34;http://negroni.codegangsta.io&#34;&gt;Negroni&lt;/a&gt; is not considered a framework as it does not have a built in router. There are many great http routers already available to to the Go community already. The goal of Negroni is to be focused on the problem that Martini was originally set out to resolve.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;m interested in hearing your thoughts on the package, if you are interested in hearing more from me on the subject, feel free to comment below. Also, &lt;a href=&#34;http://negroni.codegangsta.io&#34;&gt;be sure to give Negroni a star on GitHub&lt;/a&gt; so we can create a vibrant community around reusable net/http handlers for Go!&lt;/p&gt;

&lt;p&gt;Keep on building awesome things.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Practical Go: Build Tags</title>
      <link>http://localhost:1313/blog/2013/07/11/practical-go-build-tags/</link>
      <pubDate>Thu, 11 Jul 2013 16:23:17 -0800</pubDate>
      
      <guid>http://localhost:1313/blog/2013/07/11/practical-go-build-tags/</guid>
      <description>

&lt;p&gt;In our &lt;a href=&#34;http://localhost:1313/blog/2013/07/08/practical-go-c-bindings/&#34;&gt;last post&lt;/a&gt; we wrote a simple set of bindings for libspotify in Go. By the end of the post we had an example compiling, but we had a bad API key for our spotify application. One obvious way to recify this would be to grab an API key if you are a Spotfy Premium user. Another workaround is to use a &lt;em&gt;mock&lt;/em&gt; library to make sure the code is working the way we want. We will link this mock library with &lt;strong&gt;Build tags.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id=&#34;mocking-spotify:213ae47dc89dbd60677f5d7fdbfb82a7&#34;&gt;Mocking Spotify&lt;/h2&gt;

&lt;p&gt;Start by installing libmockspotify:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;git clone git@github.com:mopidy/libmockspotify.git
cd libmockspotify
./autogen.sh
./configure
make
sudo make install
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once libmockspotify is installed, we can link to that instead of the real libspotify:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

/*
#include &amp;lt;libspotify/api.h&amp;gt;
#cgo LDFLAGS: -lmockspotify.2
*/
import &amp;quot;C&amp;quot;
import &amp;quot;unsafe&amp;quot;

type Session struct {
  session *C.sp_session
}

func main() {
key := &amp;quot;appkey_good&amp;quot;
session := Session{}
  appkey := C.CString(key)
  appkey_size := len(key)

  var config = C.sp_session_config {
    api_version:          C.SPOTIFY_API_VERSION,
    cache_location:       C.CString(&amp;quot;.spotify/&amp;quot;),
    settings_location:    C.CString(&amp;quot;.spotify/&amp;quot;),
    user_agent:           C.CString(&amp;quot;spotify for go&amp;quot;),
    application_key:      unsafe.Pointer(appkey),
    application_key_size: C.size_t(appkey_size)
  }

  C.sp_session_create(&amp;amp;config, &amp;amp;session.session)
  println(&amp;quot;Session created!&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The following code should output:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;Session created!
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;using-build-tags:213ae47dc89dbd60677f5d7fdbfb82a7&#34;&gt;Using build tags&lt;/h2&gt;

&lt;p&gt;It&amp;rsquo;s great that we have libmockspotify for testing purposes, but it doesn&amp;rsquo;t make sense to always mock spotify in our project. This is where &lt;strong&gt;Build Tags&lt;/strong&gt; come into play. We can use build tags to conditionally choose which library to link to.&lt;/p&gt;

&lt;p&gt;Let&amp;rsquo;s link both libspotify and libmockspotify in our file:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/*
#include &amp;lt;libspotify/api.h&amp;gt;
#cgo LDFLAGS: -lmockspotify.2
#cgo LDFLAGS: -lspotify.12
*/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This approach obviously will not work as is, so we will instead link each library conditionally based on the &lt;em&gt;mock&lt;/em&gt; build take that we will define:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/*
#include &amp;lt;libspotify/api.h&amp;gt;
#cgo mock LDFLAGS: -lmockspotify.2
#cgo !mock LDFLAGS: -lspotify.12
*/
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will link libmockspotify when the &lt;em&gt;mock&lt;/em&gt; build tag is defined, otherwise we will use the real libspotify. So then how do we define build tags? Simple:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;go run -tags mock myfile.go
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Thats enough for today, have fun with build tags! I will leave you with one more pro tip!&lt;/p&gt;

&lt;p&gt;In my &lt;code&gt;~/.vim&lt;/code&gt; folder I have a ftplugin for Go that includes a binding for running tests:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;nmap &amp;lt;Leader&amp;gt;t :!go test -tags test &amp;lt;cr&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You see how I include the &lt;em&gt;test&lt;/em&gt; tag in all of my test running? This makes it convenient when linking mock libraries specific for running tests!&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Practical Go: C Bindings</title>
      <link>http://localhost:1313/blog/2013/07/08/practical-go-c-bindings/</link>
      <pubDate>Mon, 08 Jul 2013 16:17:55 -0800</pubDate>
      
      <guid>http://localhost:1313/blog/2013/07/08/practical-go-c-bindings/</guid>
      <description>

&lt;p&gt;I have been playing with &lt;a href=&#34;http://golang.org/&#34;&gt;Go&lt;/a&gt; lately. The language itself has a lot going for it, one of which is a decent set of interop with existing C code. Today I am going to walk you through a practical example of how this is done by showing some code that I have been working on lately with Go.&lt;/p&gt;

&lt;h2 id=&#34;the-simplest-hello-world:039e70d11edfc9565aa0772639c60162&#34;&gt;The Simplest Hello World&lt;/h2&gt;

&lt;p&gt;Assuming you have your &lt;a href=&#34;http://golang.org/doc/code.html&#34;&gt;Go development environment all set up,&lt;/a&gt; go ahead and create a new go file with the following contents:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

func main() {
  println(&amp;quot;Hello world&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Running this should obviously print &amp;ldquo;Hello world&amp;rdquo;. Let&amp;rsquo;s move on!&lt;/p&gt;

&lt;h2 id=&#34;using-libspotify:039e70d11edfc9565aa0772639c60162&#34;&gt;Using libspotify&lt;/h2&gt;

&lt;p&gt;Lets start creating some C bindings for libspotify! libspotify is a C api distributed by Spotify that basically allows us to do everything a typical spotify app can do; log in, play, music, manipulate playlists - all available to us with libspotify.&lt;/p&gt;

&lt;p&gt;For the sake of keeping this post short and to the point, we will just be creating a &lt;code&gt;sp_session&lt;/code&gt; object. This session will lay some groundwork for us to log in and do the fun stuff libspotify allows us to do. Why don&amp;rsquo;t we dive in:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

type Session struct {
  session *C.sp_session
}

func main() {
  println(&amp;quot;Hello world&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Running this will result in an error&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;./bindings.go:4: undefined: C
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is because we actually need to use some special magic that Go provides for us, the C package.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

import &amp;quot;C&amp;quot;

type Session struct {
  session *C.sp_session
}

func main() {
  println(&amp;quot;Hello world&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This gives us a different error:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;error: &#39;sp_session&#39; undeclared (first use in this function)
error: (Each undeclared identifier is reported only once
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Cool, so it sees the C package, but sp_session doesn&amp;rsquo;t exist. This is because we need to include libspotify using the &lt;code&gt;#include&lt;/code&gt; directive for the C preprocessor. First make sure you have libspotify installed. On a Mac you can run &lt;code&gt;brew install libspotify&lt;/code&gt;. Now try to run the following code:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

/*
#include &amp;lt;libspotify/api.h&amp;gt;
*/
import &amp;quot;C&amp;quot;

type Session struct {
  session *C.sp_session
}

func main() {
  println(&amp;quot;Hello world&amp;quot;)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This should compile and run since &lt;code&gt;sp_session&lt;/code&gt; now resides in the global C namespace! This works great for things that exist in the header, but it breaks down when we try to initialize our session:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;package main

/*
#include &amp;lt;libspotify/api.h&amp;gt;
*/
import &amp;quot;C&amp;quot;
import &amp;quot;unsafe&amp;quot;

type Session struct {
  session *C.sp_session
}

func main() {
  key := &amp;quot;appkey_good&amp;quot;
  session := Session{}
  appkey := C.CString(key)
  appkey_size := len(key)

  var config = C.sp_session_config {
    api_version:          C.SPOTIFY_API_VERSION,
    cache_location:       C.CString(&amp;quot;.spotify/&amp;quot;),
    settings_location:    C.CString(&amp;quot;.spotify/&amp;quot;),
    user_agent:           C.CString(&amp;quot;spotify for go&amp;quot;),
    application_key:      unsafe.Pointer(appkey),
    application_key_size: C.size_t(appkey_size)
  }

  C.sp_session_create(&amp;amp;config, &amp;amp;session.session)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Will result in the following error:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;Undefined symbols for architecture x86_64:
  &amp;quot;_sp_session_create&amp;quot;, referenced from:
      __cgo_90280c6a3021_Cfunc_sp_session_create in bindings.cgo2.o
     (maybe you meant: __cgo_90280c6a3021_Cfunc_sp_session_create)
ld: symbol(s) not found for architecture x86_64
collect2: ld returned 1 exit status
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is because we didn&amp;rsquo;t link libspotify. This is an easy fix, add this in the comment above &lt;code&gt;import &amp;quot;C&amp;quot;&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;#cgo LDFLAGS: -lspotify.12
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Your code should compile and link fine. You will get a SIGSEGV in your application, this is becuase we specified a bogus app key. We will cover this in detail during Part 2 of &lt;em&gt;C Bindings in Go: A Practical Example&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Until next time!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Dependency Injection in Ruby</title>
      <link>http://localhost:1313/blog/2013/04/04/dependency-injection-in-ruby/</link>
      <pubDate>Thu, 04 Apr 2013 16:03:55 -0800</pubDate>
      
      <guid>http://localhost:1313/blog/2013/04/04/dependency-injection-in-ruby/</guid>
      <description>

&lt;p&gt;Dynamically typed languages like Ruby are an interesting beast when it comes to dependency injection. The topic itself has been debated in the Ruby community every once in a while:&lt;/p&gt;

&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p&gt;Dependency injection is not a virtue in Ruby &lt;a href=&#34;http://t.co/4w2qSCfo&#34; title=&#34;http://bit.ly/ZtzSz9&#34;&gt;bit.ly/ZtzSz9&lt;/a&gt;, and then there&amp;rsquo;s the immediate criticism: &lt;a href=&#34;http://t.co/Q1O9TvGm&#34; title=&#34;http://bit.ly/ZtzQHw&#34;&gt;bit.ly/ZtzQHw&lt;/a&gt;&lt;/p&gt;&amp;mdash; Nicola Iarocci (@nicolaiarocci) &lt;a href=&#34;https://twitter.com/nicolaiarocci/status/288215967622914048&#34;&gt;January 7, 2013&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;//platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Let me start off by first saying that dependency injection is not a catch-all for managing dependencies in Ruby. There are many other ways to abstract hard dependencies within your code. Today I want to specifically talk about programming to interfaces in Ruby and how to solve the “dependencies” problem in that space.&lt;/p&gt;

&lt;h2 id=&#34;programming-to-interfaces:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;Programming to Interfaces&lt;/h2&gt;

&lt;p&gt;A common argument is that Ruby does not need dependency injection because Module mixins exist in the language. Module mixins surely allow implementation details to be abstracted and shared so that change can happen mostly in one place. A Ruby developer must think of the intensions of the Class/Implementation they are composing to correctly identify the solution to managing dependencies.&lt;/p&gt;

&lt;h2 id=&#34;the-module-approach:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;The Module Approach&lt;/h2&gt;

&lt;p&gt;Modules provide a clean solution to resolving dependencies, the basic premise looks like this:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;module Downloadable
  def download(url)
    # download the url and location
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;class SDK
  include Downloadable

  def install
    download(url)
    ...
  end 
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This is a great example of how module mixins can be an excellent solution to our problem. &lt;code&gt;Downloadable&lt;/code&gt; is completely reusable and can be safely mixed into any other class we want.&lt;/p&gt;

&lt;h3 id=&#34;the-danger:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;The Danger&lt;/h3&gt;

&lt;p&gt;The dangerous part about all of this is the &lt;em&gt;abuse&lt;/em&gt; cases with mixins. When we type:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;include Downloadable
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We are essentially allowing the &lt;code&gt;Downloadable&lt;/code&gt; module to add any number of methods it desires to our class. This pattern can easily veer codebases out of control if it is not monitored properly, so it is not quite a &lt;em&gt;silver bullet&lt;/em&gt; for dependency resolution in Ruby.&lt;/p&gt;

&lt;h2 id=&#34;the-attr-inject-approach:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;The attr_inject Approach&lt;/h2&gt;

&lt;p&gt;Finding out the Modules was a solution to a particular problem and not an solution to the entire problem space encouraged me to go out an write a elegant and Rubyesque dependency injection framework. I call it &lt;a href=&#34;https://github.com/jeremysaenz/attr_inject&#34;&gt;attr_inject&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Before I go into details I want to spend a little time sharing what I think is a great explanation of the problem we are seeking to solve:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Using dependency injection to shape code relies on your ability to recognize that the responsibility for knowing the name of a class and the responsibility for knowing the name of a message to send to that class may belong in different objects. -Sandi Metz. Practical Object-Oriented Design in Ruby&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I love this statement because it essentially says that when I explicitly want to inject something I have to stop thinking of the dependency as a class and start thinking of it as an interface. For instance:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;class User
  def name
    &amp;quot;foobar&amp;quot;
  end

  def age
    22
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;class Project
  def initialize(user)
    @user = user
  end

  def username
    @user.name
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As far as &lt;code&gt;Project&lt;/code&gt; is concerned, &lt;code&gt;@user&lt;/code&gt; is an object that responds to the &lt;code&gt;name&lt;/code&gt; message. This makes dependency injection shine when  used properly.&lt;/p&gt;

&lt;h3 id=&#34;flexible-di:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;Flexible DI&lt;/h3&gt;

&lt;p&gt;In &lt;em&gt;Practical Object-Oriented Design in Ruby&lt;/em&gt;, Sandi walks the reader through a real world example, progressively improving how dependencies are managed through injection. Here is a sample of the ultimate solution:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;def initialize(args)
  @foo = args.fetch(:foo, 40)
  @bar = args.fetch(:bar, 18)
  @baz = args[:baz]
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Injecting through the constructor with a hash provides immense flexibility and allows the class to not care about the Module or Class name of the dependency. It also solves the problem of &lt;em&gt;argument order dependencies&lt;/em&gt;.&lt;/p&gt;

&lt;h3 id=&#34;one-step-further:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;One Step Further&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&#34;https://github.com/jeremysaenz/attr_inject&#34;&gt;attr_inject&lt;/a&gt; gem takes this pattern one step further. Examine the code below:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;def Project
  attr_inject :user
  attr_inject :sdk

  def initialize(args)
    inject_attributes(args)
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This snippet of code injects the &lt;code&gt;args&lt;/code&gt; hash into the &lt;code&gt;Project&lt;/code&gt;’s &lt;code&gt;user&lt;/code&gt; and &lt;code&gt;sdk&lt;/code&gt; attributes. If the &lt;code&gt;user&lt;/code&gt; and &lt;code&gt;sdk&lt;/code&gt; attributes do not exist, &lt;code&gt;inject_attributes&lt;/code&gt; will throw an exception by default. This of course can be configured:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;attr_inject :user, :required =&amp;gt; false
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;attr_inject :user, :default =&amp;gt; some_default
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;even-further:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;Even Further&amp;hellip;&lt;/h3&gt;

&lt;p&gt;If you are like me and you don’t always want to pass arguments into the object initializer or you want to inject dependencies whenever you want, you can use the &lt;code&gt;Injector&lt;/code&gt; class.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;class Main
  include Inject

  def initialize()
    injector = Injector.new
    injector.map :user, User.new
    injector.map :sdk, SDK.new  
    
    injector.apply Project.new
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;class Project
  attr_inject :user
  attr_inject :sdk
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;factories:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;Factories&lt;/h3&gt;

&lt;p&gt;Sometimes the dependency would like to know some information about the object it is injected into, or the dependency needs to be created specially for each injection. This is where factories come into play.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;injector = Injector.new
injector.factory :logger do |target|
  Logger.new target
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Our logger object will be created upon every injection. You can request the logger object on your class the same way as any other dependency:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34;&gt;attr_inject :logger
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;conclusion:35dd294c487b2537d2d6fea3e0d5eb17&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/jeremysaenz/attr_inject&#34;&gt;attr_inject&lt;/a&gt; is an elegant and scalable way to manage dependencies. Documentation is a bit sparse at the moment and I hope to get a tutorial up and going very soon. Please feel free to fork it on Github an play around with it. Let me know what you think!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Warm Welcome from the Code Gangsta</title>
      <link>http://localhost:1313/blog/2013/04/03/a-warm-welcome-from-the-code-gangsta/</link>
      <pubDate>Wed, 03 Apr 2013 15:58:01 -0800</pubDate>
      
      <guid>http://localhost:1313/blog/2013/04/03/a-warm-welcome-from-the-code-gangsta/</guid>
      <description>

&lt;p&gt;The day finally has arrived. I am starting a blog.&lt;/p&gt;

&lt;h2 id=&#34;introduction:bba323f1579cac96bc73bbc1d718e96a&#34;&gt;Introduction&lt;/h2&gt;

&lt;p&gt;For those of you who do not know me, my name is Jeremy Saenz. I have been building software since graduating high school. Discovering that I did not want to attend college, I naturally picked up software engineering as a passionate craft that I care deeply about.&lt;/p&gt;

&lt;p&gt;Back in 2008 I was just starting to wade (drown perhaps is the better word) through the vast sea of knowledge that is the software engineering industry. I began my journey by programming Adobe Flex apps with Actionscript 3. To ease the pain of entering an industry completely void of prior relationships and contacts, I decided to create a gangsta-rap video that was related to tech (Flex specifically).&lt;/p&gt;

&lt;p&gt;Thus, the Flex Gangsta was born!&lt;/p&gt;

&lt;iframe width=&#34;420&#34; height=&#34;315&#34; src=&#34;http://www.youtube.com/embed/k76KH-MxdAI&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;

&lt;h2 id=&#34;the-flex-gangsta:bba323f1579cac96bc73bbc1d718e96a&#34;&gt;The Flex Gangsta&lt;/h2&gt;

&lt;p&gt;The video instantly propelled me into the industry. In all humbleness and honesty it was a scary time for me. I was gracefully accepted into as a community member when I did not &lt;em&gt;really&lt;/em&gt; know how to write code!&lt;/p&gt;

&lt;p&gt;With the help of some wonderful mentors I eventually &lt;em&gt;did&lt;/em&gt; learn how to write code, and write it well. I began speaking at conferences and continued to produce rap songs and videos for the fun of it.&lt;/p&gt;

&lt;iframe width=&#34;420&#34; height=&#34;315&#34; src=&#34;http://www.youtube.com/embed/DJ001Kgz5wc&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;

&lt;h2 id=&#34;recently:bba323f1579cac96bc73bbc1d718e96a&#34;&gt;Recently&amp;hellip;&lt;/h2&gt;

&lt;p&gt;The last couple years yielded an abundance of knowledge and experience, ranging from building key modules for a large social game to designing and implementing a full fledged driving game that is deployed/featured at auto shows across the country.&lt;/p&gt;

&lt;p&gt;My more recent endeavor (~1yr) has been working with the fantastic team over at &lt;a href=&#34;http://theengine.co/&#34;&gt;The Engine Co.&lt;/a&gt; The team has been tirelessly working to deliver a rapid and pragmatic workflow/platform for developing cross-platform mobile games. Loom, our flagship product, has recently launched and is building a strong community of developers dedicated to make this platform a lasting value to the mobile games industry.&lt;/p&gt;

&lt;p&gt;At The Engine Co. our driving philosophy is to use the best tool for the job. Building a tooling workflow and development platform requires us to touch Java, Obj-C, C, C++, Ruby, C#, and LoomScript (our homegrown language) to get the job done right.&lt;/p&gt;

&lt;p&gt;Today I am touching many different technologies, and thus I change my alias from the &lt;strong&gt;Flex Gangsta&lt;/strong&gt; to &lt;strong&gt;Code Gangsta&lt;/strong&gt;. The purpose of this blog is to document some solutions I discover in my day to day.&lt;/p&gt;

&lt;p&gt;Thanks for joining me on this adventure, now let&amp;rsquo;s write some software!&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>